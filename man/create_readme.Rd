% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_readme.R
\name{create_readme}
\alias{create_readme}
\title{Create a plain-text README for one or more datasets}
\usage{
create_readme(
  ...,
  file_path = "00_README.txt",
  title = "",
  doi = "",
  contact_name = getOption("metadataTools.contact_name", ""),
  contact_institution = getOption("metadataTools.contact_institution", ""),
  contact_email = getOption("metadataTools.contact_email", ""),
  contact_orcid = getOption("metadataTools.contact_orcid", ""),
  dataset_description = "",
  methodology = "",
  datasets = NULL
)
}
\arguments{
\item{file_path}{Output file path (default "00_README.txt").}

\item{title}{Title of the dataset.}

\item{doi}{DOI or other identifier.}

\item{contact_name, contact_institution, contact_email, contact_orcid}{Contact
person info. Defaults come from R options \verb{metadataTools.*} if not supplied.}

\item{dataset_description}{A paragraph describing the dataset.}

\item{methodology}{Brief description of data collection methods.}

\item{datasets}{A named list of data.frames. You may also pass a single
data.frame as the first argument for convenience.}
}
\value{
Invisibly returns \code{file_path}.
}
\description{
Generates a structured \code{README.txt} file documenting one or more datasets, including general
information, methodology, variable descriptions, and metadata. The format follows the example
given in \url{https://site.uit.no/dataverseno/deposit/prepare/#how-to-describe-your-data}.
}
\details{
Default contact information (name, institution, email, ORCID) can be set
using \code{\link[=set_metadata_defaults]{set_metadata_defaults()}}, which stores values in R options. These
defaults are used if the corresponding arguments are not explicitly provided.

This function assumes that variable descriptions and units have been added as attributes using
\code{\link[=add_desc]{add_desc()}} and \code{\link[=add_unit]{add_unit()}}, and that dataset-level descriptions have been set using \code{\link[base:attr]{base::attr()}}.
If no such attributes are present, the README file will still be created, and descriptions can
be added manually in the generated text file.

If the \code{datasets} argument does not explicitly include a filename, the function will use the
name of the dataset with a \code{.csv} extension as the default filename.
}
\examples{
# Load required package
library(dplyr)

# Create dataset and define descriptions and units for variables
df1 <- iris \%>\%
  add_desc(Sepal.Length = "Sepal length [cm]",  # units in square brackets are stored as unit attributes
           Sepal.Width = "Sepal width",         # unit can be added separately
           Petal.Length = "Petal.Length [cm]",
           Petal.Width = "Petal.Width [cm]",
           Species = "Four Iris species") \%>\%
  add_unit(Sepal.Width = "cm")  # add unit if not set by add_desc

# Add dataset-level description
attr(df1, "description") <- "This famous (Fisher's or Anderson's) iris data set gives the measurements in centimeters of the variables sepal length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, versicolor, and virginica."

# Create a second dataset
df2 <- df1 \%>\%
  mutate(SepalLtoW = Sepal.Length / Sepal.Width) \%>\%
  add_desc(SepalLtoW = "Sepal length relative to its Width [cm/cm]") \%>\%
  select(SepalLtoW, Species)

attr(df2, "description") <- "Sepal length relative to width of four Iris species from the Fisher's dataset"

# Set default contact info (optional)
set_metadata_defaults(contact_name = "Navn Navnesen",
                      contact_institution = "NMBU",
                      contact_email = "navn.navnesen@nmbu.no",
                      contact_orcid = "0000-0000-0000-0000")

# Generate README using defaults
create_readme(df1, df2)

# Generate README with full metadata
create_readme(
  file_path = "00_README.txt",
  title = "Iris Flower Measurements",
  doi = "10.1234/example.doi",
  contact_name = "Navn Navnesen",
  contact_institution = "NMBU",
  contact_email = "navn.navnesen@nmbu.no",
  contact_orcid = "0000-0000-0000-0000",
  dataset_description = "These datasets contain measurements of iris flowers collected by Edgar Anderson and used by R.A. Fisher.",
  methodology = "Measurements were taken manually for sepal and petal dimensions across three iris species.",
  datasets = list("df1.csv" = df1, "df2.xlsx" = df2)
)

}
\seealso{
\code{\link[=set_metadata_defaults]{set_metadata_defaults()}}, \code{\link[=add_unit]{add_unit()}}, \link{add_desc}
}
